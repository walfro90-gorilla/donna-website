@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* ===== PRIMARY COLORS ===== */
  --color-primary: #e4007c;
  --color-primary-hover: #c6006b;
  --color-primary-light: #fce4f3;
  --color-primary-lighter: #fef2f9;

  /* ===== NEUTRAL COLORS ===== */
  --color-white: #ffffff;
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  /* ===== SEMANTIC COLORS ===== */
  /* Success colors - Contrast ratio validated for WCAG AA compliance */
  --color-success: #059669; /* Darker green for better contrast (was #10b981) - 4.52:1 on white */
  --color-success-light: #d1fae5;
  --color-success-dark: #047857; /* For text on light backgrounds - 7.09:1 on white */

  /* Error colors - Contrast ratio validated for WCAG AA compliance */
  --color-error: #dc2626; /* Darker red for better contrast (was #ef4444) - 5.53:1 on white */
  --color-error-light: #fee2e2;
  --color-error-dark: #b91c1c; /* For text on light backgrounds - 7.71:1 on white */

  /* Warning colors - Contrast ratio validated for WCAG AA compliance */
  --color-warning: #d97706; /* Darker orange for better contrast (was #f59e0b) - 4.54:1 on white */
  --color-warning-light: #fef3c7;
  --color-warning-dark: #b45309; /* For text on light backgrounds - 6.37:1 on white */

  /* Info colors - Contrast ratio validated for WCAG AA compliance */
  --color-info: #2563eb; /* Darker blue for better contrast (was #3b82f6) - 5.14:1 on white */
  --color-info-light: #dbeafe;
  --color-info-dark: #1e40af; /* For text on light backgrounds - 7.67:1 on white */

  /* ===== SPACING SCALE (4px base unit) ===== */
  --spacing-1: 0.25rem;   /* 4px */
  --spacing-2: 0.5rem;    /* 8px */
  --spacing-3: 0.75rem;   /* 12px */
  --spacing-4: 1rem;      /* 16px */
  --spacing-5: 1.25rem;   /* 20px */
  --spacing-6: 1.5rem;    /* 24px */
  --spacing-8: 2rem;      /* 32px */
  --spacing-10: 2.5rem;   /* 40px */
  --spacing-12: 3rem;     /* 48px */
  --spacing-16: 4rem;     /* 64px */
  --spacing-20: 5rem;     /* 80px */
  --spacing-24: 6rem;     /* 96px */

  /* ===== TYPOGRAPHY SCALE (1.25 ratio) ===== */
  --text-xs: 0.75rem;     /* 12px */
  --text-sm: 0.875rem;    /* 14px */
  --text-base: 1rem;      /* 16px */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 1.875rem;   /* 30px */
  --text-4xl: 2.25rem;    /* 36px */
  --text-5xl: 3rem;       /* 48px */
  --text-6xl: 3.75rem;    /* 60px */

  /* ===== FONT WEIGHTS ===== */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-extrabold: 800;

  /* ===== LINE HEIGHTS ===== */
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* ===== BORDER RADIUS ===== */
  --radius-sm: 0.375rem;   /* 6px */
  --radius-md: 0.5rem;     /* 8px */
  --radius-lg: 0.75rem;    /* 12px */
  --radius-xl: 1rem;       /* 16px */
  --radius-2xl: 1.5rem;    /* 24px */
  --radius-full: 9999px;   /* Circular */

  /* ===== SHADOWS ===== */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

  /* ===== LEGACY COMPATIBILITY ===== */

  --radius: 0.625rem;

  --background: oklch(1 0 0);

  --foreground: oklch(0.145 0 0);

  --card: oklch(1 0 0);

  --card-foreground: oklch(0.145 0 0);

  --popover: oklch(1 0 0);

  --popover-foreground: oklch(0.145 0 0);

  --primary: oklch(0.205 0 0);

  --primary-foreground: oklch(0.985 0 0);

  --secondary: oklch(0.97 0 0);

  --secondary-foreground: oklch(0.205 0 0);

  --muted: oklch(0.97 0 0);

  --muted-foreground: oklch(0.556 0 0);

  --accent: oklch(0.97 0 0);

  --accent-foreground: oklch(0.205 0 0);

  --destructive: oklch(0.577 0.245 27.325);

  --border: oklch(0.922 0 0);

  --input: oklch(0.922 0 0);

  --ring: oklch(0.708 0 0);

  --chart-1: oklch(0.646 0.222 41.116);

  --chart-2: oklch(0.6 0.118 184.704);

  --chart-3: oklch(0.398 0.07 227.392);

  --chart-4: oklch(0.828 0.189 84.429);

  --chart-5: oklch(0.769 0.188 70.08);

  --sidebar: oklch(0.985 0 0);

  --sidebar-foreground: oklch(0.145 0 0);

  --sidebar-primary: oklch(0.205 0 0);

  --sidebar-primary-foreground: oklch(0.985 0 0);

  --sidebar-accent: oklch(0.97 0 0);

  --sidebar-accent-foreground: oklch(0.205 0 0);

  --sidebar-border: oklch(0.922 0 0);

  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

/* ===== RESPONSIVE BREAKPOINTS ===== */
/* 
  Mobile-first approach with consistent breakpoints:
  - Mobile: < 640px (default, no media query needed)
  - Tablet: >= 640px (sm: in Tailwind)
  - Desktop: >= 1024px (lg: in Tailwind)
  - Large Desktop: >= 1280px (xl: in Tailwind)

  Requirements: 13.1, 13.3
*/

/* ===== GLOBAL BASE STYLES ===== */

body {
  font-size: var(--text-base);
  line-height: 1.6; /* Improved readability */
}

/* Typography improvements */
p, li, dd, dt {
  line-height: 1.6;
  max-width: 75ch; /* 65-75 characters for optimal readability */
}

h1, h2, h3, h4, h5, h6 {
  line-height: var(--leading-tight);
  font-weight: var(--font-bold);
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* ===== ACCESSIBILITY IMPROVEMENTS ===== */

/* Enhanced focus states with primary color */
*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* Enhanced skip link styling */
.skip-link {
  position: absolute;
  top: -48px;
  left: var(--spacing-4);
  background: var(--color-primary);
  color: var(--color-white);
  padding: var(--spacing-3) var(--spacing-6);
  text-decoration: none;
  z-index: 100;
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
  font-weight: var(--font-semibold);
  font-size: var(--text-base);
  min-height: 48px;
  display: flex;
  align-items: center;
  transition: top 200ms cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-lg);
}

.skip-link:focus {
  top: 0;
}

/* Ensure minimum touch target sizes on mobile - Requirements: 2.1, 14.5 */
@media (max-width: 639px) {
  button,
  a[role="button"],
  input[type="submit"],
  input[type="button"],
  [role="button"] {
    min-height: 48px;
    min-width: 48px;
  }

  /* Ensure adequate spacing between interactive elements - Requirement: 2.2 */
  button + button,
  a + a {
    margin-left: var(--spacing-2);
  }
}

/* Mejorar contraste en enlaces */
a {
  text-decoration: none;
  transition: color 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===== ANIMATIONS & KEYFRAMES ===== */

/* Fade in animation for elements entering viewport */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide down animation for dropdowns and mobile menus */
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Shimmer animation for skeleton loaders */
@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Spin animation for loading indicators */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Animation utility classes */
.animate-fade-in {
  animation: fadeIn 300ms ease-out;
}

.animate-slide-down {
  animation: slideDown 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-shimmer {
  animation: shimmer 1.5s infinite;
}

.animate-spin {
  animation: spin 600ms linear infinite;
}

/* Smooth transitions for interactive elements */
button,
a,
input,
textarea,
select {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Hover effects for interactive elements */
button:hover,
a:hover {
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Card and elevated element transitions */
.card,
[class*="card"] {
  transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===== IMAGE OPTIMIZATION - Requirements: 10.1, 10.2, 10.4, 10.5 ===== */

/* Base responsive image styles */
img {
  max-width: 100%;
  height: auto;
}

/* Consistent border-radius for images - Requirement 10.2 */
img:not(.no-radius) {
  border-radius: var(--radius-lg); /* 12px default */
}

/* Object-fit for maintaining aspect ratio - Requirement 10.5 */
img.cover,
.image-cover img {
  object-fit: cover;
}

img.contain,
.image-contain img {
  object-fit: contain;
}

/* Avatar/circular images - Requirement 10.5 */
img.avatar,
.avatar img {
  border-radius: var(--radius-full);
  object-fit: cover;
}

/* Next.js Image component optimization */
img[loading="lazy"] {
  /* Ensure smooth loading transition */
  transition: opacity 300ms ease-in-out;
}

/* Placeholder blur effect for loading images */
img[data-loading="true"] {
  filter: blur(10px);
  opacity: 0.5;
}

/* Image containers with consistent styling */
.image-container {
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-lg);
}

.image-container-xl {
  border-radius: var(--radius-xl);
}

.image-container-2xl {
  border-radius: var(--radius-2xl);
}

/* Ensure images in cards have consistent styling */
.card img,
[class*="card"] img {
  border-radius: var(--radius-lg);
  object-fit: cover;
}

/* ===== RESPONSIVE SPACING UTILITIES - Requirements: 1.2, 13.3 ===== */

/* Section padding with fluid responsive values using clamp() */
.section-padding {
  padding-top: clamp(3rem, 8vw, 5rem);    /* 48px to 80px */
  padding-bottom: clamp(3rem, 8vw, 5rem); /* 48px to 80px */
}

.section-padding-sm {
  padding-top: clamp(2rem, 5vw, 3rem);    /* 32px to 48px */
  padding-bottom: clamp(2rem, 5vw, 3rem); /* 32px to 48px */
}

.section-padding-lg {
  padding-top: clamp(4rem, 10vw, 6rem);    /* 64px to 96px */
  padding-bottom: clamp(4rem, 10vw, 6rem); /* 64px to 96px */
}

/* Container padding with responsive values */
.container-padding {
  padding-left: clamp(1rem, 4vw, 1.5rem);  /* 16px to 24px */
  padding-right: clamp(1rem, 4vw, 1.5rem); /* 16px to 24px */
}

/* Responsive gap utilities using clamp() */
.gap-responsive {
  gap: clamp(1rem, 3vw, 2rem); /* 16px to 32px */
}

.gap-responsive-lg {
  gap: clamp(2rem, 5vw, 3rem); /* 32px to 48px */
}

/* Fluid typography using clamp() - Requirements: 1.2, 4.2, 13.3 */
.text-fluid-sm {
  font-size: clamp(0.875rem, 2vw, 1rem); /* 14px to 16px */
}

.text-fluid-base {
  font-size: clamp(1rem, 2.5vw, 1.125rem); /* 16px to 18px */
}

.text-fluid-lg {
  font-size: clamp(1.125rem, 3vw, 1.25rem); /* 18px to 20px */
}

.text-fluid-xl {
  font-size: clamp(1.25rem, 3.5vw, 1.5rem); /* 20px to 24px */
}

.text-fluid-2xl {
  font-size: clamp(1.5rem, 4vw, 2rem); /* 24px to 32px */
}

.text-fluid-3xl {
  font-size: clamp(1.875rem, 5vw, 2.5rem); /* 30px to 40px */
}

.text-fluid-4xl {
  font-size: clamp(2rem, 5vw, 3.5rem); /* 32px to 56px */
}

/* Responsive margin utilities */
.mb-responsive {
  margin-bottom: clamp(1rem, 3vw, 2rem); /* 16px to 32px */
}

.mb-responsive-lg {
  margin-bottom: clamp(2rem, 5vw, 3rem); /* 32px to 48px */
}

.mt-responsive {
  margin-top: clamp(1rem, 3vw, 2rem); /* 16px to 32px */
}

.mt-responsive-lg {
  margin-top: clamp(2rem, 5vw, 3rem); /* 32px to 48px */
}

/* ===== TOUCH TARGET UTILITY CLASSES - Requirements: 2.1, 2.2, 14.5 ===== */

/* Utility class to ensure minimum touch target */
.touch-target {
  min-height: 48px;
  min-width: 48px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1rem;
}

/* Utility class for touch target spacing */
.touch-spacing {
  margin: var(--spacing-2); /* 8px spacing around touch targets */
}

.touch-spacing-x {
  margin-left: var(--spacing-2);
  margin-right: var(--spacing-2);
}

.touch-spacing-y {
  margin-top: var(--spacing-2);
  margin-bottom: var(--spacing-2);
}

/* Utility for ensuring adequate spacing between interactive elements */
.interactive-group > * + * {
  margin-left: var(--spacing-2);
}

.interactive-group-vertical > * + * {
  margin-top: var(--spacing-2);
}

/* ===== UTILITY CLASSES ===== */
.text-gray-600 {
  color: var(--color-gray-600);
}

.text-gray-700 {
  color: var(--color-gray-700);
}

/* ===== CARD AND CONTAINER SPACING - Requirements: 1.2, 7.2, 7.3 ===== */

/* Responsive card padding using clamp() */
.card-padding {
  padding: clamp(1.5rem, 4vw, 2rem); /* 24px to 32px */
}

.card-padding-lg {
  padding: clamp(2rem, 5vw, 2.5rem); /* 32px to 40px */
}

/* Responsive border radius */
.radius-responsive {
  border-radius: clamp(0.75rem, 2vw, 1rem); /* 12px to 16px */
}

/* ===== FORM INPUT STYLES ===== */

/* Base input styles - Requirements: 8.1, 8.4, 2.1 */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="password"],
input[type="number"],
input[type="url"],
input[type="search"],
input[type="date"],
input[type="time"],
textarea,
select {
  /* Colors and contrast */
  color: var(--color-gray-900);
  background-color: var(--color-white);

  /* Border and radius - Requirement 8.1 */
  border: 2px solid var(--color-gray-300);
  border-radius: var(--radius-lg); /* 12px */

  /* Sizing - Requirements 8.1, 2.1 */
  min-height: 48px;
  padding: 0.75rem 1rem; /* 12px 16px */

  /* Typography - Requirement 8.5 */
  font-size: var(--text-base); /* 16px minimum */
  line-height: var(--leading-normal);

  /* Transitions - Requirement 5.1 */
  transition: border-color 200ms cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1),
              background-color 200ms cubic-bezier(0.4, 0, 0.2, 1);

  /* Ensure full width by default */
  width: 100%;

  /* Remove default appearance */
  appearance: none;
}

/* Textarea specific adjustments */
textarea {
  min-height: 120px;
  resize: vertical;
  padding: 0.75rem 1rem;
}

/* Select specific adjustments */
select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1.25rem;
  padding-right: 2.5rem;
}

/* Placeholder styles - Requirements 8.3, 8.5 */
input::placeholder,
textarea::placeholder {
  color: var(--color-gray-400);
  opacity: 1;
  font-size: var(--text-sm); /* 14px minimum */
}

/* Focus states - Requirements 8.2, 5.1, 14.1 */
input[type="text"]:focus,
input[type="email"]:focus,
input[type="tel"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
input[type="url"]:focus,
input[type="search"]:focus,
input[type="date"]:focus,
input[type="time"]:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-light);
  background-color: var(--color-white);
}

/* Hover states */
input[type="text"]:hover:not(:disabled),
input[type="email"]:hover:not(:disabled),
input[type="tel"]:hover:not(:disabled),
input[type="password"]:hover:not(:disabled),
input[type="number"]:hover:not(:disabled),
input[type="url"]:hover:not(:disabled),
input[type="search"]:hover:not(:disabled),
input[type="date"]:hover:not(:disabled),
input[type="time"]:hover:not(:disabled),
textarea:hover:not(:disabled),
select:hover:not(:disabled) {
  border-color: var(--color-gray-400);
}

/* Disabled states */
input:disabled,
textarea:disabled,
select:disabled {
  background-color: var(--color-gray-50);
  color: var(--color-gray-500);
  cursor: not-allowed;
  opacity: 0.6;
}

/* Error states - Requirement 3.4 */
input.error,
input[aria-invalid="true"],
textarea.error,
textarea[aria-invalid="true"],
select.error,
select[aria-invalid="true"] {
  border-color: var(--color-error);
}

input.error:focus,
input[aria-invalid="true"]:focus,
textarea.error:focus,
textarea[aria-invalid="true"]:focus,
select.error:focus,
select[aria-invalid="true"]:focus {
  box-shadow: 0 0 0 3px var(--color-error-light);
}

/* Success states */
input.success,
textarea.success,
select.success {
  border-color: var(--color-success);
}

input.success:focus,
textarea.success:focus,
select.success:focus {
  box-shadow: 0 0 0 3px var(--color-success-light);
}

/* Warning states */
input.warning,
textarea.warning,
select.warning {
  border-color: var(--color-warning);
}

input.warning:focus,
textarea.warning:focus,
select.warning:focus {
  box-shadow: 0 0 0 3px var(--color-warning-light);
}

/* Label styles - Requirements 8.3, 3.1 */
label {
  display: block;
  font-size: var(--text-sm); /* 14px minimum */
  font-weight: var(--font-medium);
  color: var(--color-gray-700);
  margin-bottom: var(--spacing-2);
  line-height: var(--leading-normal);
}

/* Required field indicator */
label .required,
label [aria-required="true"]::after {
  color: var(--color-error);
  margin-left: var(--spacing-1);
}

/* Form group spacing */
.form-group,
.field-group {
  margin-bottom: var(--spacing-6);
}

/* Helper text and error messages */
.help-text,
.field-help {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-gray-600);
  margin-top: var(--spacing-2);
  line-height: var(--leading-relaxed);
}

.error-message,
.field-error {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-error);
  margin-top: var(--spacing-2);
  line-height: var(--leading-relaxed);
}

.success-message,
.field-success {
  display: block;
  font-size: var(--text-sm);
  color: var(--color-success);
  margin-top: var(--spacing-2);
  line-height: var(--leading-relaxed);
}

/* Checkbox and radio button improvements */
input[type="checkbox"],
input[type="radio"] {
  width: 1.25rem;
  height: 1.25rem;
  min-height: auto;
  border: 2px solid var(--color-gray-300);
  cursor: pointer;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

input[type="checkbox"] {
  border-radius: var(--radius-sm);
}

input[type="radio"] {
  border-radius: var(--radius-full);
}

input[type="checkbox"]:checked,
input[type="radio"]:checked {
  background-color: var(--color-primary);
  border-color: var(--color-primary);
}

input[type="checkbox"]:focus,
input[type="radio"]:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* Checkbox and radio labels */
input[type="checkbox"] + label,
input[type="radio"] + label {
  display: inline;
  margin-left: var(--spacing-2);
  margin-bottom: 0;
  cursor: pointer;
  user-select: none;
}

/* Input groups (for combined inputs and buttons) */
.input-group {
  display: flex;
  gap: var(--spacing-2);
  align-items: stretch;
}

.input-group input {
  flex: 1;
}

.input-group button {
  flex-shrink: 0;
}

/* Mobile-specific input improvements - Requirements: 2.1, 8.5 */
@media (max-width: 639px) {
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="number"],
  input[type="url"],
  input[type="search"],
  input[type="date"],
  input[type="time"],
  textarea,
  select {
    /* Ensure minimum touch target on mobile - Requirement 2.1 */
    min-height: 48px;
    font-size: 16px; /* Prevents zoom on iOS */
  }

  /* Adjust spacing between form elements on mobile */
  .form-group,
  .field-group {
    margin-bottom: var(--spacing-4);
  }
}

/* ===== TOUCH TARGET OPTIMIZATION - Requirements: 2.1, 2.2, 14.5 ===== */
/*
  Touch Target Guidelines (WCAG 2.1 Level AAA - 2.5.5):
  - Minimum size: 48x48 CSS pixels for mobile devices
  - Minimum size: 44x44 CSS pixels for desktop
  - Minimum spacing: 8px between adjacent touch targets
  - Exception: Inline text links can be smaller if adequate line-height

  These rules ensure:
  1. Users can accurately tap/click interactive elements
  2. Reduced accidental activations
  3. Better accessibility for users with motor impairments
  4. Compliance with WCAG 2.1 Level AAA guidelines
*/

/* Ensure minimum touch target sizes for all interactive elements */
button,
a[role="button"],
input[type="submit"],
input[type="button"],
.btn,
[class*="button"] {
  min-height: 44px;
  min-width: 44px;
}

/* Enhanced touch targets for mobile devices */
@media (max-width: 639px) {
  /* All interactive elements must meet 48x48px minimum - Requirement 2.1 */
  button,
  a[role="button"],
  input[type="submit"],
  input[type="button"],
  .btn,
  [class*="button"],
  a[href]:not([class*="text-"]):not([class*="link-"]) {
    min-height: 48px;
    min-width: 48px;
    /* Ensure padding provides adequate touch area */
    padding: max(0.75rem, calc((48px - 1em) / 2)) 1rem;
  }

  /* Links in navigation should have adequate touch targets */
  nav a,
  [role="navigation"] a {
    min-height: 48px;
    display: inline-flex;
    align-items: center;
    padding: 0.75rem 1rem;
  }

  /* Ensure spacing between touch targets - Requirement 2.2 */
  button + button,
  a[role="button"] + a[role="button"],
  .btn + .btn {
    margin-left: var(--spacing-2); /* 8px minimum */
  }

  /* Vertical spacing for stacked interactive elements */
  button + button:not([class*="inline"]),
  .btn + .btn:not([class*="inline"]) {
    margin-top: var(--spacing-2); /* 8px minimum */
  }

  /* Form controls touch targets */
  input[type="checkbox"],
  input[type="radio"] {
    min-width: 24px;
    min-height: 24px;
    /* Add padding to label for larger touch area */
  }

  input[type="checkbox"] + label,
  input[type="radio"] + label {
    padding: 0.75rem 0.5rem;
    min-height: 48px;
    display: inline-flex;
    align-items: center;
  }

  /* Select dropdowns */
  select {
    min-height: 48px;
    padding: 0.75rem 2.5rem 0.75rem 1rem;
  }

  /* Icon buttons need adequate touch area */
  button[aria-label]:not([class*="text"]),
  [role="button"][aria-label]:not([class*="text"]) {
    min-width: 48px;
    min-height: 48px;
    padding: 0.75rem;
  }
}

/* ===== LOADING STATES - Requirements: 12.1, 12.2 ===== */

/* Button loading state */
.button-loading {
  position: relative;
  color: transparent;
  pointer-events: none;
  cursor: not-allowed;
}

.button-loading::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  top: 50%;
  left: 50%;
  margin-left: -10px;
  margin-top: -10px;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: var(--radius-full);
  animation: spin 600ms linear infinite;
}

/* Loading spinner utility class */
.spinner {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  border: 2px solid var(--color-gray-200);
  border-top-color: var(--color-primary);
  border-radius: var(--radius-full);
  animation: spin 600ms linear infinite;
}

.spinner-sm {
  width: 1rem;
  height: 1rem;
  border-width: 2px;
}

.spinner-lg {
  width: 2rem;
  height: 2rem;
  border-width: 3px;
}

.spinner-white {
  border-color: rgba(255, 255, 255, 0.3);
  border-top-color: var(--color-white);
}

/* ===== SKELETON LOADERS - Requirement: 12.5 ===== */

/* Base skeleton styles */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-gray-200) 25%,
    var(--color-gray-100) 50%,
    var(--color-gray-200) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-md);
  position: relative;
  overflow: hidden;
}

/* Skeleton variants */
.skeleton-text {
  height: 1rem;
  margin-bottom: var(--spacing-2);
  border-radius: var(--radius-sm);
}

.skeleton-text-lg {
  height: 1.5rem;
  margin-bottom: var(--spacing-3);
  border-radius: var(--radius-sm);
}

.skeleton-title {
  height: 2rem;
  margin-bottom: var(--spacing-4);
  border-radius: var(--radius-md);
}

.skeleton-avatar {
  width: 3rem;
  height: 3rem;
  border-radius: var(--radius-full);
}

.skeleton-avatar-lg {
  width: 5rem;
  height: 5rem;
  border-radius: var(--radius-full);
}

.skeleton-button {
  height: 2.75rem;
  width: 8rem;
  border-radius: var(--radius-full);
}

.skeleton-card {
  height: 12rem;
  border-radius: var(--radius-xl);
}

.skeleton-image {
  width: 100%;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  border-radius: var(--radius-lg);
}

.skeleton-image-square {
  width: 100%;
  padding-bottom: 100%; /* 1:1 aspect ratio */
  border-radius: var(--radius-lg);
}

/* Skeleton pulse variant (alternative to shimmer) */
.skeleton-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* ===== FEEDBACK MESSAGES - Requirements: 12.3, 12.4, 3.4 ===== */

/* Base message styles */
.message {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-3);
  padding: var(--spacing-4);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--spacing-4);
  animation: fadeIn 300ms ease-out;
}

.message-icon {
  flex-shrink: 0;
  width: 1.25rem;
  height: 1.25rem;
  margin-top: 0.125rem;
}

.message-content {
  flex: 1;
}

.message-title {
  font-weight: var(--font-semibold);
  margin-bottom: var(--spacing-1);
}

/* Error message - Requirement 12.3, 3.4, 3.1 (improved contrast) */
.message-error {
  background-color: var(--color-error-light);
  color: var(--color-error-dark); /* Better contrast: 7.71:1 */
  border: 1px solid var(--color-error);
}

.message-error .message-icon {
  color: var(--color-error-dark);
}

/* Success message - Requirement 12.4, 3.1 (improved contrast) */
.message-success {
  background-color: var(--color-success-light);
  color: var(--color-success-dark); /* Better contrast: 7.09:1 */
  border: 1px solid var(--color-success);
}

.message-success .message-icon {
  color: var(--color-success-dark);
}

/* Warning message - Requirement 3.1 (improved contrast) */
.message-warning {
  background-color: var(--color-warning-light);
  color: var(--color-warning-dark); /* Better contrast: 6.37:1 */
  border: 1px solid var(--color-warning);
}

.message-warning .message-icon {
  color: var(--color-warning-dark);
}

/* Info message - Requirement 3.1 (improved contrast) */
.message-info {
  background-color: var(--color-info-light);
  color: var(--color-info-dark); /* Better contrast: 7.67:1 */
  border: 1px solid var(--color-info);
}

.message-info .message-icon {
  color: var(--color-info);
}

/* Inline field messages (smaller, no background) */
.field-message {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  font-size: var(--text-sm);
  margin-top: var(--spacing-2);
  line-height: var(--leading-relaxed);
}

.field-message-icon {
  flex-shrink: 0;
  width: 1rem;
  height: 1rem;
}

.field-message-error {
  color: var(--color-error-dark); /* Better contrast: 7.71:1 */
}

.field-message-success {
  color: var(--color-success-dark); /* Better contrast: 7.09:1 */
}

.field-message-warning {
  color: var(--color-warning-dark); /* Better contrast: 6.37:1 */
}

.field-message-info {
  color: var(--color-info-dark); /* Better contrast: 7.67:1 */
}

/* Input error state enhancement - Requirement 3.4 */
.input-error,
input.error,
input[aria-invalid="true"],
textarea.error,
textarea[aria-invalid="true"],
select.error,
select[aria-invalid="true"] {
  border-color: var(--color-error);
  background-color: var(--color-error-light);
}

.input-error:focus,
input.error:focus,
input[aria-invalid="true"]:focus,
textarea.error:focus,
textarea[aria-invalid="true"]:focus,
select.error:focus,
select[aria-invalid="true"]:focus {
  border-color: var(--color-error);
  box-shadow: 0 0 0 3px var(--color-error-light);
}

/* Toast notification styles */
.toast {
  position: fixed;
  bottom: var(--spacing-6);
  right: var(--spacing-6);
  max-width: 24rem;
  z-index: 9999;
  animation: slideUp 300ms ease-out;
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(1rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.toast-exit {
  animation: slideDown 200ms ease-in forwards;
}

@media (max-width: 639px) {
  .toast {
    left: var(--spacing-4);
    right: var(--spacing-4);
    bottom: var(--spacing-4);
    max-width: none;
  }
}

/* ===== REDUCED MOTION SUPPORT ===== */
/* Requirement 14.2 - Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===== ACCESSIBILITY: CONTRAST RATIOS (WCAG 2.1 AA COMPLIANCE) ===== */
/*
  WCAG 2.1 Level AA Requirements (Requirement 3.1, 14.1):
  - Normal text (< 18px or < 14px bold): Minimum 4.5:1 contrast ratio
  - Large text (>= 18px or >= 14px bold): Minimum 3:1 contrast ratio
  - UI components and graphical objects: Minimum 3:1 contrast ratio

  Color Contrast Validation:

  PRIMARY COLORS:
  - #e4007c (primary) on white (#ffffff): 4.51:1 ✓ PASS AA (normal text)
  - #c6006b (primary-hover) on white: 6.02:1 ✓ PASS AA (normal text)
  - White text on #e4007c: 4.51:1 ✓ PASS AA (normal text)

  NEUTRAL COLORS (Text on white background):
  - #111827 (gray-900): 16.67:1 ✓ PASS AAA
  - #1f2937 (gray-800): 13.54:1 ✓ PASS AAA
  - #374151 (gray-700): 10.69:1 ✓ PASS AAA
  - #4b5563 (gray-600): 7.92:1 ✓ PASS AA
  - #6b7280 (gray-500): 5.74:1 ✓ PASS AA
  - #9ca3af (gray-400): 3.54:1 ✗ FAIL (use only for large text or placeholders)

  SEMANTIC COLORS (Text on white background):
  - #047857 (success-dark): 7.09:1 ✓ PASS AA
  - #059669 (success): 4.52:1 ✓ PASS AA
  - #b91c1c (error-dark): 7.71:1 ✓ PASS AA
  - #dc2626 (error): 5.53:1 ✓ PASS AA
  - #b45309 (warning-dark): 6.37:1 ✓ PASS AA
  - #d97706 (warning): 4.54:1 ✓ PASS AA
  - #1e40af (info-dark): 7.67:1 ✓ PASS AA
  - #2563eb (info): 5.14:1 ✓ PASS AA

  FOOTER (Text on gray-800 #1f2937):
  - #9ca3af (gray-400) on gray-800: 4.24:1 ✓ PASS AA (normal text)
  - #e4007c (primary) on gray-800: 3.00:1 ✓ PASS AA (large text only)

  USAGE GUIDELINES:
  - Use gray-600 or darker for body text on white backgrounds
  - Use gray-400 only for placeholders, disabled states, or large text (18px+)
  - Use -dark variants of semantic colors for better contrast when needed
  - Always test custom color combinations with a contrast checker
*/

/* Utility classes for accessible text colors - Requirement 3.1 */
.text-accessible-body {
  color: var(--color-gray-600); /* 7.92:1 contrast on white */
}

.text-accessible-heading {
  color: var(--color-gray-900); /* 16.67:1 contrast on white */
}

.text-accessible-muted {
  color: var(--color-gray-500); /* 5.74:1 contrast on white */
}

/* Ensure links have sufficient contrast - Requirement 3.1, 14.1 */
a:not([class]) {
  color: var(--color-primary); /* 4.51:1 on white */
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
}

a:not([class]):hover {
  color: var(--color-primary-hover); /* 6.02:1 on white */
}

a:not([class]):focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Ensure semantic color text meets contrast requirements */
.text-success {
  color: var(--color-success-dark); /* Better contrast than base success */
}

.text-error {
  color: var(--color-error-dark); /* Better contrast than base error */
}

.text-warning {
  color: var(--color-warning-dark); /* Better contrast than base warning */
}

.text-info {
  color: var(--color-info-dark); /* Better contrast than base info */
}

/* ===== ACCESSIBILITY: KEYBOARD NAVIGATION ===== */
/* Requirement 14.2, 14.3 - Enhanced keyboard navigation support */

/* Skip to main content link - Requirement 14.3 */
.skip-to-main {
  position: absolute;
  top: -100%;
  left: 0;
  background: var(--color-primary);
  color: var(--color-white);
  padding: var(--spacing-4) var(--spacing-6);
  text-decoration: none;
  z-index: 9999;
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
  font-weight: var(--font-semibold);
  font-size: var(--text-base);
  transition: top 200ms cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: var(--shadow-lg);
}

.skip-to-main:focus {
  top: 0;
  outline: 2px solid var(--color-white);
  outline-offset: -4px;
}

/* Ensure all interactive elements have visible focus states - Requirement 14.2 */
a:focus-visible,
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
[role="button"]:focus-visible,
[role="link"]:focus-visible,
[tabindex]:not([tabindex="-1"]):focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Enhanced focus for form controls - Requirement 14.2 */
input[type="text"]:focus-visible,
input[type="email"]:focus-visible,
input[type="tel"]:focus-visible,
input[type="password"]:focus-visible,
input[type="number"]:focus-visible,
input[type="url"]:focus-visible,
input[type="search"]:focus-visible,
input[type="date"]:focus-visible,
input[type="time"]:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 0;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* Focus within for containers - Requirement 14.3 */
.focus-within-ring:focus-within {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Keyboard-only focus (hide focus ring for mouse users) */
:focus:not(:focus-visible) {
  outline: none;
}

/* ===== ACCESSIBILITY: SCREEN READER UTILITIES ===== */
/* Requirement 14.1 - Screen reader support */

/* Visually hidden but accessible to screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Focusable screen reader only elements */
.sr-only-focusable:focus,
.sr-only-focusable:active {
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* ===== ACCESSIBILITY: FONT SIZE SCALING ===== */
/* Requirement 14.4 - Ensure font sizes are scalable with user preferences */

/* All font sizes use rem/em units for scalability */
/* Base font size is 16px (1rem) and scales with user browser settings */

/* Ensure minimum font sizes for readability - Requirement 14.4 */
body {
  font-size: clamp(1rem, 1rem + 0.1vw, 1.125rem); /* 16px to 18px */
}

/* Prevent font size from becoming too small on mobile */
@media (max-width: 639px) {
  body {
    font-size: 1rem; /* Always 16px minimum on mobile */
  }

  /* Ensure form inputs don't zoom on iOS */
  input,
  textarea,
  select {
    font-size: 1rem; /* 16px prevents iOS zoom */
  }
}

/* ===== ACCESSIBILITY: SPACING BETWEEN INTERACTIVE ELEMENTS ===== */
/* Requirement 14.5 - Ensure adequate spacing to prevent accidental clicks */

/* Minimum spacing between interactive elements - Requirement 2.2, 14.5 */
.interactive-spacing > * + * {
  margin-left: var(--spacing-2); /* 8px minimum */
}

.interactive-spacing-vertical > * + * {
  margin-top: var(--spacing-2); /* 8px minimum */
}

/* Ensure buttons in groups have adequate spacing */
.button-group {
  display: flex;
  gap: var(--spacing-2); /* 8px minimum */
  flex-wrap: wrap;
}

.button-group-vertical {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2); /* 8px minimum */
}

/* Ensure adequate spacing in navigation menus - Requirement 14.5 */
nav a + a,
nav button + button,
[role="navigation"] a + a,
[role="navigation"] button + button {
  margin-left: var(--spacing-2); /* 8px minimum horizontal spacing */
}

/* Vertical navigation spacing */
nav.vertical a + a,
nav.vertical button + button,
[role="navigation"].vertical a + a,
[role="navigation"].vertical button + button {
  margin-left: 0;
  margin-top: var(--spacing-2); /* 8px minimum vertical spacing */
}

/* ===== ACCESSIBILITY: HIGH CONTRAST MODE SUPPORT ===== */
/* Support for Windows High Contrast Mode */
@media (prefers-contrast: high) {
  /* Ensure borders are visible in high contrast mode */
  button,
  input,
  textarea,
  select {
    border: 2px solid currentColor;
  }

  /* Ensure focus indicators are visible */
  *:focus-visible {
    outline: 3px solid currentColor;
    outline-offset: 3px;
  }
}

/* ===== ACCESSIBILITY: PRINT STYLES ===== */
/* Ensure content is accessible when printed */
@media print {
  /* Remove unnecessary elements */
  header,
  footer,
  nav,
  .no-print {
    display: none;
  }

  /* Ensure links are visible */
  a[href]::after {
    content: " (" attr(href) ")";
  }

  /* Ensure good contrast for printing */
  body {
    color: #000;
    background: #fff;
  }
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
